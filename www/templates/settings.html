<ion-view view-title="Settings">
  <ion-content>
    <ul class="list">
 	  <li class="item">
	     <!-- ligne 221 -->
	    <a class="button button-icon icon ion-briefcase" ng-click="showStorage($event)"></a>
	  </li>
		<div class="item item-divider"> 
		  Settings
		</div>
		<!-- <button ion-button round outline side="rigth">Reload map</button> -->
		<ion-toggle name="item.name" 
					ng-repeat="item in $storage.settingsList"
		            ng-model="item.checked"
		            ng-change="updateItemSettings(item)"
		            ng-checked="item.checked">
		  {{ item.text }}
		</ion-toggle>
		<!-- <form name="changePasswordForm" ng-if="$storage.islog" ng-submit="doChangePassword(changeData)">
	      <div class="list">
			<label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">Old Password</span>
	          <input id="password" style="margin-right:20px;" type="password" name="password" placeholder="Old Password" data-ng-model="changeData.password" required>
	        </label>
	        <label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">New Password</span>
	          <input id="password2" style="margin-right:20px;" type="password" name="password2" placeholder="New Password" data-ng-model="changeData.password2" required>
	        </label>
	        <label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">Confirm New Password</span>
	          <input id="password3" style="margin-right:20px;" type="password" name="password3" placeholder="Confirm New Password" data-ng-model="changeData.password3" required>
	        </label>
	        <label class="item" style="border-bottom-width: 0px;">
	          <button class="button button-block button-positive" type="submit">Generate a new password</button>
	        </label>
	        </div>
	    </form> -->

		<form ng-controller="SignCtrl" name="changeForm" ng-if="$storage.islog" ng-submit="doChangePassword(changeData)">
	      <div class="list">
	        <label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">Old Password</span>
	          <input id="password" style="margin-right:20px;" type="password" name="Password" placeholder="Old Password" data-ng-model="changeData.password" data-ng-minlength="3" data-ng-maxlength="32" required>
	        </label>
	        <label class="item item-input" style="border-top-width: 0px;">
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password.$invalid && !changeForm.Password.$error.minlength && !changeForm.Password.$error.maxlength">
	             Password is required</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password.$error.minlength">
	              Password is too short</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password.$error.maxlength">
	            Password is too long</span>
	        </label>

	        <label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">New Password</span>
	          <input id="password2" style="margin-right:20px;" type="password" name="Password2" placeholder="New Password" data-ng-model="changeData.password2" data-ng-minlength="3" data-ng-maxlength="32" required>
	        </label>
	        <label class="item item-input" style="border-top-width: 0px;">
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password2.$invalid && !changeForm.Password2.$error.minlength && !changeForm.Password2.$error.maxlength">
	             Password is required</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password2.$error.minlength">
	              Password is too short</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password2.$error.maxlength">
	            Password is too long</span>
	        </label>
	     
	     	<label class="item item-input" style="border-bottom-width: 0px;">
	          <span class="input-label">Confirm New Password</span>
	          <input id="password3" style="margin-right:20px;" type="password" name="Password3" placeholder="Confirm New Password" data-ng-model="changeData.password3" data-ng-minlength="3" data-ng-maxlength="32" required>
	        </label>
	        <label class="item item-input" style="border-top-width: 0px;">
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password3.$invalid && !changeForm.Password3.$error.minlength && !changeForm.Password3.$error.maxlength">
	             Password is required</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password3.$error.minlength">
	              Password is too short</span>
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.submitted && changeForm.Password3.$error.maxlength">
	            Password is too long</span>
	        </label>
	        <label class="item" style="border-bottom-width: 0px;">
	          <button class="button button-block button-positive" type="submit">Save Password</button>
	        </label>
	        <label class="item item-input" style="border-top-width: 0px;border-bottom-width: 0px;">
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.different">
	             The new passwords are different</span>
	        </label>
	        <label class="item item-input" style="border-top-width: 0px;border-bottom-width: 0px;">
	          <span class="text-error" ng-style="{'color':'red'}" data-ng-show="changeForm.invalid">
	            Password authentification failed</span>
	      	</label>
	      </div>
	    </form>
        </label>
	</ul>
  </ion-content>
</ion-view>
